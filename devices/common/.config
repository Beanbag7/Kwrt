bash

# ==============================
# 通用系统配置
# ==============================

# 启动设置
CONFIG_GRUB_TIMEOUT="0"
CONFIG_GRUB_CONSOLE=n

# 目标配置
CONFIG_TARGET_MULTI_PROFILE=y
CONFIG_TARGET_ALL_PROFILES=y

# 文件系统设置
CONFIG_TARGET_ROOTFS_EXT4FS=n
CONFIG_TARGET_ROOTFS_CPIOGZ=n
CONFIG_TARGET_ROOTFS_PARTSIZE=1004

# 构建系统配置
CONFIG_ALL_NONSHARED=y
CONFIG_USE_APK=n
CONFIG_BUILD_PATENTED=y
CONFIG_IB=n
CONFIG_IB_STANDALONE=n
CONFIG_JSON_OVERVIEW_IMAGE_INFO=y
CONFIG_IMAGEOPT=y
CONFIG_VERSIONOPT=y
CONFIG_VERSION_FILENAMES=n
CONFIG_VERSION_CODE_FILENAMES=n
CONFIG_VERSION_MANUFACTURER="Kiddin'"
CONFIG_VERSION_HOME_URL="https://openwrt.ai/"

# 开发工具
CONFIG_DEVEL=y
CONFIG_CCACHE=y
CONFIG_TOOLCHAINOPTS=y

# 内核配置
CONFIG_KERNEL_WERROR=n
CONFIG_KERNEL_XDP_SOCKETS=y

# ==============================
# 网络协议支持
# ==============================

# IPv6支持
CONFIG_IPV6=y

# ==============================
# 核心软件包
# ==============================

# 包签名验证
CONFIG_SIGNED_PACKAGES=n
CONFIG_SIGNATURE_CHECK=n

# DNS和DHCP
CONFIG_PACKAGE_dnsmasq=n
CONFIG_PACKAGE_dnsmasq-full=y
CONFIG_PACKAGE_dnsmasq_full_dhcp=y
CONFIG_PACKAGE_dnsmasq_full_ipset=y

# 防火墙和UPnP
CONFIG_PACKAGE_firewall4=y
CONFIG_PACKAGE_miniupnpd-nftables=y
CONFIG_PACKAGE_iptables-nft=y

# Web服务器
CONFIG_NGINX_DAV=y

# ==============================
# 硬件驱动和固件
# ==============================

# 自动核心配置
CONFIG_PACKAGE_autocore=y

# 基础文件系统
CONFIG_PACKAGE_base-files=y

# Broadcom GPU固件
CONFIG_PACKAGE_bcm27xx-gpu-fw=y
CONFIG_PACKAGE_bcm27xx-utils=y

# Broadcom无线网卡
#CONFIG_PACKAGE_brcmfmac-nvram-43455-sdio=y
#CONFIG_PACKAGE_cypress-firmware-43455-sdio=y

# 内核模块 - 基础硬件
CONFIG_PACKAGE_kernel=y
CONFIG_PACKAGE_kmod-brcmfmac=y
CONFIG_PACKAGE_kmod-fs-vfat=y
CONFIG_PACKAGE_kmod-i2c-bcm2835=y
CONFIG_PACKAGE_kmod-i2c-brcmstb=y
CONFIG_PACKAGE_kmod-lib-zstd=y
CONFIG_PACKAGE_kmod-lib-lz4=y
CONFIG_PACKAGE_kmod-nls-cp437=y
CONFIG_PACKAGE_kmod-nls-iso8859-1=y
CONFIG_PACKAGE_kmod-r8169=y
CONFIG_PACKAGE_kmod-sound-arm-bcm2835=y
CONFIG_PACKAGE_kmod-sound-core=y
CONFIG_PACKAGE_kmod-spi-bcm2835=y
CONFIG_PACKAGE_kmod-spi-bcm2835-aux=y
CONFIG_PACKAGE_kmod-tcp-bbr=y
CONFIG_PACKAGE_kmod-usb-hid=y

# 内核模块 - USB网络驱动
CONFIG_PACKAGE_kmod-usb-net-aqc111=y
CONFIG_PACKAGE_kmod-usb-net-asix=y
CONFIG_PACKAGE_kmod-usb-net-asix-ax88179=y
CONFIG_PACKAGE_kmod-usb-net-cdc-ncm=y
CONFIG_PACKAGE_kmod-usb-net-huawei-cdc-ncm=y
CONFIG_PACKAGE_kmod-usb-net-kaweth=y
CONFIG_PACKAGE_kmod-usb-net-lan78xx=y
CONFIG_PACKAGE_kmod-usb-net-mcs7830=y
CONFIG_PACKAGE_kmod-usb-net-pegasus=y
CONFIG_PACKAGE_kmod-usb-net-rndis=y
CONFIG_PACKAGE_kmod-usb-net-rtl8150=y
CONFIG_PACKAGE_kmod-usb-net-rtl8152=y
CONFIG_PACKAGE_kmod-usb-net-sierrawireless=y
CONFIG_PACKAGE_kmod-usb-net-smsc75xx=y
CONFIG_PACKAGE_kmod-usb-net-smsc95xx=y
CONFIG_PACKAGE_kmod-usb-net-sr9700=y

# USB串口调制解调器
CONFIG_PACKAGE_kmod-usb-serial-option=y

# ==============================
# 网络服务
# ==============================

# SSH服务
CONFIG_PACKAGE_dropbear=y

# 隧道协议
CONFIG_PACKAGE_ds-lite=y

# 网络配置
CONFIG_PACKAGE_netifd=y

# DHCP客户端
CONFIG_PACKAGE_odhcp6c=y
CONFIG_PACKAGE_odhcpd-ipv6only=y

# PPP拨号
CONFIG_PACKAGE_ppp=y
CONFIG_PACKAGE_ppp-mod-pppoe=y

# 无线配置
CONFIG_PACKAGE_swconfig=y
CONFIG_PACKAGE_wpad-basic-mbedtls=y

# 网络信息
CONFIG_PACKAGE_iwinfo=y

# ==============================
# 调制解调器支持
# ==============================

# 调制解调器工具
CONFIG_PACKAGE_chat=y
CONFIG_PACKAGE_comgt=y
CONFIG_PACKAGE_uqmi=y
CONFIG_PACKAGE_usb-modeswitch=y

# ==============================
# Web界面 (Luci)
# ==============================

# Luci基础组件
CONFIG_PACKAGE_luci-base=y
CONFIG_PACKAGE_luci-compat=y
CONFIG_PACKAGE_luci-lib-ipkg=y
CONFIG_PACKAGE_luci-lib-fs=y
CONFIG_PACKAGE_luci-ssl=y

# Web服务器
CONFIG_PACKAGE_luci-nginx=y

# 主题
CONFIG_PACKAGE_luci-theme-bootstrap=y
CONFIG_PACKAGE_luci-theme-argon=y

# 语言支持
CONFIG_LUCI_LANG_zh_Hans=y
CONFIG_LUCI_LANG_en=y

# Luci应用程序 - 系统管理
CONFIG_PACKAGE_luci-app-advancedplus=y
CONFIG_PACKAGE_luci-app-fan=y
CONFIG_PACKAGE_luci-app-filemanager=y
CONFIG_PACKAGE_luci-app-firewall=y
CONFIG_PACKAGE_luci-app-log-viewer=y
CONFIG_PACKAGE_luci-app-package-manager=y
CONFIG_PACKAGE_luci-app-syscontrol=y
CONFIG_PACKAGE_luci-app-upnp=y
CONFIG_PACKAGE_luci-app-wizard=y
CONFIG_PACKAGE_luci-app-diskman=y

# Luci应用程序 - 代理和翻墙
CONFIG_PACKAGE_luci-app-bypass=y
CONFIG_PACKAGE_luci-app-homeproxy=y
CONFIG_PACKAGE_luci-app-istorex=y
CONFIG_PACKAGE_luci-app-modem=y
CONFIG_PACKAGE_luci-app-nekobox=y
#CONFIG_PACKAGE_luci-app-passwall=y
#CONFIG_PACKAGE_luci-app-ssr-plus=y
CONFIG_PACKAGE_luci-app-v2raya=y

# 网络协议支持
CONFIG_PACKAGE_luci-proto-wireguard=y
CONFIG_PACKAGE_luci-proto-3g=y
CONFIG_PACKAGE_luci-proto-qmi=y

# ==============================
# 系统工具和实用程序
# ==============================

# Shell环境
CONFIG_PACKAGE_bash=y

# 命令行工具
CONFIG_PACKAGE_htop=y
CONFIG_PACKAGE_nano=y
CONFIG_PACKAGE_wget-ssl=y
CONFIG_PACKAGE_curl=y

# 系统设置
CONFIG_PACKAGE_my-default-settings=y
CONFIG_PACKAGE_zoneinfo-asia=y
CONFIG_PACKAGE_ca-bundle=y

# 系统日志
CONFIG_PACKAGE_logd=y

# 配置管理
CONFIG_PACKAGE_uci=y

# 包管理
CONFIG_PACKAGE_opkg=y

# 系统库
CONFIG_PACKAGE_libc=y
CONFIG_PACKAGE_libgcc=y
CONFIG_PACKAGE_libustream-mbedtls=y

# 内存优化
CONFIG_PACKAGE_zram-swap=y

# WiFi脚本
#CONFIG_PACKAGE_wifi-scripts=m

# SSH文件传输
CONFIG_PACKAGE_openssh-sftp-server=y

# 网络工具
CONFIG_PACKAGE_resolveip=y
CONFIG_PACKAGE_uclient-fetch=y

# ==============================
# 存储和文件系统
# ==============================

# 块设备管理
CONFIG_PACKAGE_block-mount=y
CONFIG_PACKAGE_automount=y

# 文件系统工具
CONFIG_PACKAGE_e2fsprogs=y
CONFIG_PACKAGE_fdisk=y
CONFIG_PACKAGE_fstools=y
CONFIG_PACKAGE_mkf2fs=y
CONFIG_PACKAGE_mtd=y
CONFIG_PACKAGE_partx-utils=y

# 磁盘工具
CONFIG_PACKAGE_lsblk=y

# ==============================
# 性能测试和优化
# ==============================

# CoreMark基准测试
CONFIG_PACKAGE_coremark=y
CONFIG_COREMARK_OPTIMIZE_O3=y
CONFIG_COREMARK_ENABLE_MULTITHREADING=y
CONFIG_COREMARK_NUMBER_OF_THREADS=16

# 压缩优化
CONFIG_ZLIB_OPTIMIZE_SPEED=y
CONFIG_ZSTD_OPTIMIZE_O3=y

# ==============================
# 代理工具配置
# ==============================

# Xray/V2Ray
CONFIG_XRAY_PROVIDE_V2RAY=y
CONFIG_V2RAY_CORE_COMPRESS_UPX=n
CONFIG_XRAY_CORE_COMPRESS_UPX=n

# ==============================
# 编程语言支持
# ==============================

# Node.js
CONFIG_NODEJS_14=y

# ==============================
# BusyBox自定义配置
# ==============================

CONFIG_BUSYBOX_CUSTOM=y
CONFIG_BUSYBOX_CONFIG_FEATURE_XARGS_SUPPORT_REPL_STR=y
CONFIG_BUSYBOX_CONFIG_FEATURE_CROND_SPECIAL_TIMES=y
CONFIG_BUSYBOX_CONFIG_FEATURE_SYSLOG_INFO=y

# ==============================
# Docker支持配置
# ==============================

# Cgroup支持
CONFIG_KERNEL_CGROUP_DEVICE=y
CONFIG_KERNEL_CGROUP_FREEZER=y
CONFIG_KERNEL_NET_CLS_CGROUP=y
CONFIG_KERNEL_CGROUP_NET_PRIO=y
CONFIG_KERNEL_MEMCG_SWAP_ENABLED=y
CONFIG_KERNEL_CFQ_GROUP_IOSCHED=y
CONFIG_KERNEL_CGROUP_PERF=y
CONFIG_KERNEL_CGROUP_HUGETLB=y

# 文件系统ACL支持
CONFIG_KERNEL_EXT4_FS_POSIX_ACL=y
CONFIG_KERNEL_EXT4_FS_SECURITY=y
CONFIG_KERNEL_BTRFS_FS_POSIX_ACL=y

# ==============================
# 系统初始化
# ==============================

# 随机数种子
CONFIG_PACKAGE_urandom-seed=y

# ==============================
# 禁用组件
# ==============================

# 禁用电话相关功能
CONFIG_FEED_telephony=n

# 禁用CSS优化
CONFIG_LUCI_CSSTIDY=n

# 禁用特定内核模块
CONFIG_PACKAGE_kmod-pcie_mhi=n
CONFIG_PACKAGE_kmod-rtl8189es=n

# 可选：网络监控（已注释）
# CONFIG_PACKAGE_netdata=m
